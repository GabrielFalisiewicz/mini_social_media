{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar _asyncToGenerator = require(\"C:/Users/GabrielFalisiewiczS/OneDrive/Dokumenty/Udemy/backend/kurs1/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SchematicsCommandModule = exports.DEFAULT_SCHEMATICS_COLLECTION = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst schematics_1 = require(\"@angular-devkit/schematics\");\nconst tools_1 = require(\"@angular-devkit/schematics/tools\");\nconst path_1 = require(\"path\");\nconst analytics_1 = require(\"../analytics/analytics\");\nconst analytics_parameters_1 = require(\"../analytics/analytics-parameters\");\nconst config_1 = require(\"../utilities/config\");\nconst error_1 = require(\"../utilities/error\");\nconst memoize_1 = require(\"../utilities/memoize\");\nconst tty_1 = require(\"../utilities/tty\");\nconst command_module_1 = require(\"./command-module\");\nconst json_schema_1 = require(\"./utilities/json-schema\");\nconst schematic_engine_host_1 = require(\"./utilities/schematic-engine-host\");\nconst schematic_workflow_1 = require(\"./utilities/schematic-workflow\");\nexports.DEFAULT_SCHEMATICS_COLLECTION = '@schematics/angular';\nclass SchematicsCommandModule extends command_module_1.CommandModule {\n  constructor() {\n    super(...arguments);\n    this.scope = command_module_1.CommandScope.In;\n    this.allowPrivateSchematics = false;\n  }\n  builder(argv) {\n    return _asyncToGenerator(function* () {\n      return argv.option('interactive', {\n        describe: 'Enable interactive input prompts.',\n        type: 'boolean',\n        default: true\n      }).option('dry-run', {\n        describe: 'Run through and reports activity without writing out results.',\n        type: 'boolean',\n        default: false\n      }).option('defaults', {\n        describe: 'Disable interactive input prompts for options with a default.',\n        type: 'boolean',\n        default: false\n      }).option('force', {\n        describe: 'Force overwriting of existing files.',\n        type: 'boolean',\n        default: false\n      }).strict();\n    })();\n  }\n  /** Get schematic schema options.*/\n  getSchematicOptions(collection, schematicName, workflow) {\n    return _asyncToGenerator(function* () {\n      const schematic = collection.createSchematic(schematicName, true);\n      const {\n        schemaJson\n      } = schematic.description;\n      if (!schemaJson) {\n        return [];\n      }\n      return (0, json_schema_1.parseJsonSchemaToOptions)(workflow.registry, schemaJson);\n    })();\n  }\n  getOrCreateWorkflowForBuilder(collectionName) {\n    return new tools_1.NodeWorkflow(this.context.root, {\n      resolvePaths: this.getResolvePaths(collectionName),\n      engineHostCreator: options => new schematic_engine_host_1.SchematicEngineHost(options.resolvePaths)\n    });\n  }\n  getOrCreateWorkflowForExecution(collectionName, options) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        logger,\n        root,\n        packageManager\n      } = _this.context;\n      const {\n        force,\n        dryRun,\n        packageRegistry\n      } = options;\n      const workflow = new tools_1.NodeWorkflow(root, {\n        force,\n        dryRun,\n        packageManager: packageManager.name,\n        // A schema registry is required to allow customizing addUndefinedDefaults\n        registry: new core_1.schema.CoreSchemaRegistry(schematics_1.formats.standardFormats),\n        packageRegistry,\n        resolvePaths: _this.getResolvePaths(collectionName),\n        schemaValidation: true,\n        optionTransforms: [\n        /*#__PURE__*/\n        // Add configuration file defaults\n        function () {\n          var _ref = _asyncToGenerator(function* (schematic, current) {\n            const projectName = typeof current?.project === 'string' ? current.project : _this.getProjectName();\n            return {\n              ...(yield (0, config_1.getSchematicDefaults)(schematic.collection.name, schematic.name, projectName)),\n              ...current\n            };\n          });\n          return function (_x, _x2) {\n            return _ref.apply(this, arguments);\n          };\n        }()],\n        engineHostCreator: options => new schematic_engine_host_1.SchematicEngineHost(options.resolvePaths)\n      });\n      workflow.registry.addPostTransform(core_1.schema.transforms.addUndefinedDefaults);\n      workflow.registry.useXDeprecatedProvider(msg => logger.warn(msg));\n      workflow.registry.addSmartDefaultProvider('projectName', () => _this.getProjectName());\n      const workingDir = (0, core_1.normalize)((0, path_1.relative)(_this.context.root, process.cwd()));\n      workflow.registry.addSmartDefaultProvider('workingDirectory', () => workingDir === '' ? undefined : workingDir);\n      let shouldReportAnalytics = true;\n      workflow.engineHost.registerOptionsTransform( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (schematic, options) {\n          // Report analytics\n          if (shouldReportAnalytics) {\n            shouldReportAnalytics = false;\n            const {\n              collection: {\n                name: collectionName\n              },\n              name: schematicName\n            } = schematic;\n            const analytics = (0, analytics_1.isPackageNameSafeForAnalytics)(collectionName) ? yield _this.getAnalytics() : undefined;\n            analytics?.reportSchematicRunEvent({\n              [analytics_parameters_1.EventCustomDimension.SchematicCollectionName]: collectionName,\n              [analytics_parameters_1.EventCustomDimension.SchematicName]: schematicName,\n              ..._this.getAnalyticsParameters(options)\n            });\n          }\n          return options;\n        });\n        return function (_x3, _x4) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      if (options.interactive !== false && (0, tty_1.isTTY)()) {\n        workflow.registry.usePromptProvider( /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator(function* (definitions) {\n            const questions = definitions.filter(definition => !options.defaults || definition.default === undefined).map(definition => {\n              const question = {\n                name: definition.id,\n                message: definition.message,\n                default: definition.default\n              };\n              const validator = definition.validator;\n              if (validator) {\n                question.validate = input => validator(input);\n                // Filter allows transformation of the value prior to validation\n                question.filter = /*#__PURE__*/function () {\n                  var _ref4 = _asyncToGenerator(function* (input) {\n                    for (const type of definition.propertyTypes) {\n                      let value;\n                      switch (type) {\n                        case 'string':\n                          value = String(input);\n                          break;\n                        case 'integer':\n                        case 'number':\n                          value = Number(input);\n                          break;\n                        default:\n                          value = input;\n                          break;\n                      }\n                      // Can be a string if validation fails\n                      const isValid = (yield validator(value)) === true;\n                      if (isValid) {\n                        return value;\n                      }\n                    }\n                    return input;\n                  });\n                  return function (_x6) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }();\n              }\n              switch (definition.type) {\n                case 'confirmation':\n                  question.type = 'confirm';\n                  break;\n                case 'list':\n                  question.type = definition.multiselect ? 'checkbox' : 'list';\n                  question.choices = definition.items?.map(item => {\n                    return typeof item == 'string' ? item : {\n                      name: item.label,\n                      value: item.value\n                    };\n                  });\n                  break;\n                default:\n                  question.type = definition.type;\n                  break;\n              }\n              return question;\n            });\n            if (questions.length) {\n              const {\n                prompt\n              } = yield Promise.resolve().then(() => __importStar(require('inquirer')));\n              return prompt(questions);\n            } else {\n              return {};\n            }\n          });\n          return function (_x5) {\n            return _ref3.apply(this, arguments);\n          };\n        }());\n      }\n      return workflow;\n    })();\n  }\n  getSchematicCollections() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      // Resolve relative collections from the location of `angular.json`\n      const resolveRelativeCollection = collectionName => collectionName.charAt(0) === '.' ? (0, path_1.resolve)(_this2.context.root, collectionName) : collectionName;\n      const getSchematicCollections = configSection => {\n        if (!configSection) {\n          return undefined;\n        }\n        const {\n          schematicCollections\n        } = configSection;\n        if (Array.isArray(schematicCollections)) {\n          return new Set(schematicCollections.map(c => resolveRelativeCollection(c)));\n        }\n        return undefined;\n      };\n      const {\n        workspace,\n        globalConfiguration\n      } = _this2.context;\n      if (workspace) {\n        const project = (0, config_1.getProjectByCwd)(workspace);\n        if (project) {\n          const value = getSchematicCollections(workspace.getProjectCli(project));\n          if (value) {\n            return value;\n          }\n        }\n      }\n      const value = getSchematicCollections(workspace?.getCli()) ?? getSchematicCollections(globalConfiguration.getCli());\n      if (value) {\n        return value;\n      }\n      return new Set([exports.DEFAULT_SCHEMATICS_COLLECTION]);\n    })();\n  }\n  parseSchematicInfo(schematic) {\n    if (schematic?.includes(':')) {\n      const [collectionName, schematicName] = schematic.split(':', 2);\n      return [collectionName, schematicName];\n    }\n    return [undefined, schematic];\n  }\n  runSchematic(options) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        logger\n      } = _this3.context;\n      const {\n        schematicOptions,\n        executionOptions,\n        collectionName,\n        schematicName\n      } = options;\n      const workflow = yield _this3.getOrCreateWorkflowForExecution(collectionName, executionOptions);\n      if (!schematicName) {\n        throw new Error('schematicName cannot be undefined.');\n      }\n      const {\n        unsubscribe,\n        files\n      } = (0, schematic_workflow_1.subscribeToWorkflow)(workflow, logger);\n      try {\n        yield workflow.execute({\n          collection: collectionName,\n          schematic: schematicName,\n          options: schematicOptions,\n          logger,\n          allowPrivate: _this3.allowPrivateSchematics\n        }).toPromise();\n        if (!files.size) {\n          logger.info('Nothing to be done.');\n        }\n        if (executionOptions.dryRun) {\n          logger.warn(`\\nNOTE: The \"--dry-run\" option means no changes were made.`);\n        }\n      } catch (err) {\n        // In case the workflow was not successful, show an appropriate error message.\n        if (err instanceof schematics_1.UnsuccessfulWorkflowExecution) {\n          // \"See above\" because we already printed the error.\n          logger.fatal('The Schematic workflow failed. See above.');\n        } else {\n          (0, error_1.assertIsError)(err);\n          logger.fatal(err.message);\n        }\n        return 1;\n      } finally {\n        unsubscribe();\n      }\n      return 0;\n    })();\n  }\n  getProjectName() {\n    const {\n      workspace,\n      logger\n    } = this.context;\n    if (!workspace) {\n      return undefined;\n    }\n    const projectName = (0, config_1.getProjectByCwd)(workspace);\n    if (projectName) {\n      return projectName;\n    }\n    return undefined;\n  }\n  getResolvePaths(collectionName) {\n    const {\n      workspace,\n      root\n    } = this.context;\n    return workspace ?\n    // Workspace\n    collectionName === exports.DEFAULT_SCHEMATICS_COLLECTION ?\n    // Favor __dirname for @schematics/angular to use the build-in version\n    [__dirname, process.cwd(), root] : [process.cwd(), root, __dirname] :\n    // Global\n    [__dirname, process.cwd()];\n  }\n}\nexports.SchematicsCommandModule = SchematicsCommandModule;\n__decorate([memoize_1.memoize, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [String]), __metadata(\"design:returntype\", tools_1.NodeWorkflow)], SchematicsCommandModule.prototype, \"getOrCreateWorkflowForBuilder\", null);\n__decorate([memoize_1.memoize, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [String, Object]), __metadata(\"design:returntype\", Promise)], SchematicsCommandModule.prototype, \"getOrCreateWorkflowForExecution\", null);\n__decorate([memoize_1.memoize, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", Promise)], SchematicsCommandModule.prototype, \"getSchematicCollections\", null);","map":{"version":3,"names":["_asyncToGenerator","require","default","__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__decorate","decorators","target","key","c","arguments","length","r","d","Reflect","decorate","i","__importStar","mod","result","prototype","hasOwnProperty","call","__metadata","metadata","exports","SchematicsCommandModule","DEFAULT_SCHEMATICS_COLLECTION","core_1","schematics_1","tools_1","path_1","analytics_1","analytics_parameters_1","config_1","error_1","memoize_1","tty_1","command_module_1","json_schema_1","schematic_engine_host_1","schematic_workflow_1","CommandModule","constructor","scope","CommandScope","In","allowPrivateSchematics","builder","argv","option","describe","type","strict","getSchematicOptions","collection","schematicName","workflow","schematic","createSchematic","schemaJson","description","parseJsonSchemaToOptions","registry","getOrCreateWorkflowForBuilder","collectionName","NodeWorkflow","context","root","resolvePaths","getResolvePaths","engineHostCreator","options","SchematicEngineHost","getOrCreateWorkflowForExecution","_this","logger","packageManager","force","dryRun","packageRegistry","name","schema","CoreSchemaRegistry","formats","standardFormats","schemaValidation","optionTransforms","_ref","current","projectName","project","getProjectName","getSchematicDefaults","_x","_x2","apply","addPostTransform","transforms","addUndefinedDefaults","useXDeprecatedProvider","msg","warn","addSmartDefaultProvider","workingDir","normalize","relative","process","cwd","shouldReportAnalytics","engineHost","registerOptionsTransform","_ref2","analytics","isPackageNameSafeForAnalytics","getAnalytics","reportSchematicRunEvent","EventCustomDimension","SchematicCollectionName","SchematicName","getAnalyticsParameters","_x3","_x4","interactive","isTTY","usePromptProvider","_ref3","definitions","questions","filter","definition","defaults","map","question","id","message","validator","validate","input","_ref4","propertyTypes","String","Number","isValid","_x6","multiselect","choices","items","item","label","prompt","Promise","resolve","then","_x5","getSchematicCollections","_this2","resolveRelativeCollection","charAt","configSection","schematicCollections","Array","isArray","Set","workspace","globalConfiguration","getProjectByCwd","getProjectCli","getCli","parseSchematicInfo","includes","split","runSchematic","_this3","schematicOptions","executionOptions","Error","unsubscribe","files","subscribeToWorkflow","execute","allowPrivate","toPromise","size","info","err","UnsuccessfulWorkflowExecution","fatal","assertIsError","__dirname","memoize","Function"],"sources":["C:/Users/GabrielFalisiewiczS/OneDrive/Dokumenty/Udemy/backend/kurs1/node_modules/@angular/cli/src/command-builder/schematics-command-module.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SchematicsCommandModule = exports.DEFAULT_SCHEMATICS_COLLECTION = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst schematics_1 = require(\"@angular-devkit/schematics\");\nconst tools_1 = require(\"@angular-devkit/schematics/tools\");\nconst path_1 = require(\"path\");\nconst analytics_1 = require(\"../analytics/analytics\");\nconst analytics_parameters_1 = require(\"../analytics/analytics-parameters\");\nconst config_1 = require(\"../utilities/config\");\nconst error_1 = require(\"../utilities/error\");\nconst memoize_1 = require(\"../utilities/memoize\");\nconst tty_1 = require(\"../utilities/tty\");\nconst command_module_1 = require(\"./command-module\");\nconst json_schema_1 = require(\"./utilities/json-schema\");\nconst schematic_engine_host_1 = require(\"./utilities/schematic-engine-host\");\nconst schematic_workflow_1 = require(\"./utilities/schematic-workflow\");\nexports.DEFAULT_SCHEMATICS_COLLECTION = '@schematics/angular';\nclass SchematicsCommandModule extends command_module_1.CommandModule {\n    constructor() {\n        super(...arguments);\n        this.scope = command_module_1.CommandScope.In;\n        this.allowPrivateSchematics = false;\n    }\n    async builder(argv) {\n        return argv\n            .option('interactive', {\n            describe: 'Enable interactive input prompts.',\n            type: 'boolean',\n            default: true,\n        })\n            .option('dry-run', {\n            describe: 'Run through and reports activity without writing out results.',\n            type: 'boolean',\n            default: false,\n        })\n            .option('defaults', {\n            describe: 'Disable interactive input prompts for options with a default.',\n            type: 'boolean',\n            default: false,\n        })\n            .option('force', {\n            describe: 'Force overwriting of existing files.',\n            type: 'boolean',\n            default: false,\n        })\n            .strict();\n    }\n    /** Get schematic schema options.*/\n    async getSchematicOptions(collection, schematicName, workflow) {\n        const schematic = collection.createSchematic(schematicName, true);\n        const { schemaJson } = schematic.description;\n        if (!schemaJson) {\n            return [];\n        }\n        return (0, json_schema_1.parseJsonSchemaToOptions)(workflow.registry, schemaJson);\n    }\n    getOrCreateWorkflowForBuilder(collectionName) {\n        return new tools_1.NodeWorkflow(this.context.root, {\n            resolvePaths: this.getResolvePaths(collectionName),\n            engineHostCreator: (options) => new schematic_engine_host_1.SchematicEngineHost(options.resolvePaths),\n        });\n    }\n    async getOrCreateWorkflowForExecution(collectionName, options) {\n        const { logger, root, packageManager } = this.context;\n        const { force, dryRun, packageRegistry } = options;\n        const workflow = new tools_1.NodeWorkflow(root, {\n            force,\n            dryRun,\n            packageManager: packageManager.name,\n            // A schema registry is required to allow customizing addUndefinedDefaults\n            registry: new core_1.schema.CoreSchemaRegistry(schematics_1.formats.standardFormats),\n            packageRegistry,\n            resolvePaths: this.getResolvePaths(collectionName),\n            schemaValidation: true,\n            optionTransforms: [\n                // Add configuration file defaults\n                async (schematic, current) => {\n                    const projectName = typeof current?.project === 'string' ? current.project : this.getProjectName();\n                    return {\n                        ...(await (0, config_1.getSchematicDefaults)(schematic.collection.name, schematic.name, projectName)),\n                        ...current,\n                    };\n                },\n            ],\n            engineHostCreator: (options) => new schematic_engine_host_1.SchematicEngineHost(options.resolvePaths),\n        });\n        workflow.registry.addPostTransform(core_1.schema.transforms.addUndefinedDefaults);\n        workflow.registry.useXDeprecatedProvider((msg) => logger.warn(msg));\n        workflow.registry.addSmartDefaultProvider('projectName', () => this.getProjectName());\n        const workingDir = (0, core_1.normalize)((0, path_1.relative)(this.context.root, process.cwd()));\n        workflow.registry.addSmartDefaultProvider('workingDirectory', () => workingDir === '' ? undefined : workingDir);\n        let shouldReportAnalytics = true;\n        workflow.engineHost.registerOptionsTransform(async (schematic, options) => {\n            // Report analytics\n            if (shouldReportAnalytics) {\n                shouldReportAnalytics = false;\n                const { collection: { name: collectionName }, name: schematicName, } = schematic;\n                const analytics = (0, analytics_1.isPackageNameSafeForAnalytics)(collectionName)\n                    ? await this.getAnalytics()\n                    : undefined;\n                analytics?.reportSchematicRunEvent({\n                    [analytics_parameters_1.EventCustomDimension.SchematicCollectionName]: collectionName,\n                    [analytics_parameters_1.EventCustomDimension.SchematicName]: schematicName,\n                    ...this.getAnalyticsParameters(options),\n                });\n            }\n            return options;\n        });\n        if (options.interactive !== false && (0, tty_1.isTTY)()) {\n            workflow.registry.usePromptProvider(async (definitions) => {\n                const questions = definitions\n                    .filter((definition) => !options.defaults || definition.default === undefined)\n                    .map((definition) => {\n                    const question = {\n                        name: definition.id,\n                        message: definition.message,\n                        default: definition.default,\n                    };\n                    const validator = definition.validator;\n                    if (validator) {\n                        question.validate = (input) => validator(input);\n                        // Filter allows transformation of the value prior to validation\n                        question.filter = async (input) => {\n                            for (const type of definition.propertyTypes) {\n                                let value;\n                                switch (type) {\n                                    case 'string':\n                                        value = String(input);\n                                        break;\n                                    case 'integer':\n                                    case 'number':\n                                        value = Number(input);\n                                        break;\n                                    default:\n                                        value = input;\n                                        break;\n                                }\n                                // Can be a string if validation fails\n                                const isValid = (await validator(value)) === true;\n                                if (isValid) {\n                                    return value;\n                                }\n                            }\n                            return input;\n                        };\n                    }\n                    switch (definition.type) {\n                        case 'confirmation':\n                            question.type = 'confirm';\n                            break;\n                        case 'list':\n                            question.type = definition.multiselect ? 'checkbox' : 'list';\n                            question.choices = definition.items?.map((item) => {\n                                return typeof item == 'string'\n                                    ? item\n                                    : {\n                                        name: item.label,\n                                        value: item.value,\n                                    };\n                            });\n                            break;\n                        default:\n                            question.type = definition.type;\n                            break;\n                    }\n                    return question;\n                });\n                if (questions.length) {\n                    const { prompt } = await Promise.resolve().then(() => __importStar(require('inquirer')));\n                    return prompt(questions);\n                }\n                else {\n                    return {};\n                }\n            });\n        }\n        return workflow;\n    }\n    async getSchematicCollections() {\n        // Resolve relative collections from the location of `angular.json`\n        const resolveRelativeCollection = (collectionName) => collectionName.charAt(0) === '.'\n            ? (0, path_1.resolve)(this.context.root, collectionName)\n            : collectionName;\n        const getSchematicCollections = (configSection) => {\n            if (!configSection) {\n                return undefined;\n            }\n            const { schematicCollections } = configSection;\n            if (Array.isArray(schematicCollections)) {\n                return new Set(schematicCollections.map((c) => resolveRelativeCollection(c)));\n            }\n            return undefined;\n        };\n        const { workspace, globalConfiguration } = this.context;\n        if (workspace) {\n            const project = (0, config_1.getProjectByCwd)(workspace);\n            if (project) {\n                const value = getSchematicCollections(workspace.getProjectCli(project));\n                if (value) {\n                    return value;\n                }\n            }\n        }\n        const value = getSchematicCollections(workspace?.getCli()) ??\n            getSchematicCollections(globalConfiguration.getCli());\n        if (value) {\n            return value;\n        }\n        return new Set([exports.DEFAULT_SCHEMATICS_COLLECTION]);\n    }\n    parseSchematicInfo(schematic) {\n        if (schematic?.includes(':')) {\n            const [collectionName, schematicName] = schematic.split(':', 2);\n            return [collectionName, schematicName];\n        }\n        return [undefined, schematic];\n    }\n    async runSchematic(options) {\n        const { logger } = this.context;\n        const { schematicOptions, executionOptions, collectionName, schematicName } = options;\n        const workflow = await this.getOrCreateWorkflowForExecution(collectionName, executionOptions);\n        if (!schematicName) {\n            throw new Error('schematicName cannot be undefined.');\n        }\n        const { unsubscribe, files } = (0, schematic_workflow_1.subscribeToWorkflow)(workflow, logger);\n        try {\n            await workflow\n                .execute({\n                collection: collectionName,\n                schematic: schematicName,\n                options: schematicOptions,\n                logger,\n                allowPrivate: this.allowPrivateSchematics,\n            })\n                .toPromise();\n            if (!files.size) {\n                logger.info('Nothing to be done.');\n            }\n            if (executionOptions.dryRun) {\n                logger.warn(`\\nNOTE: The \"--dry-run\" option means no changes were made.`);\n            }\n        }\n        catch (err) {\n            // In case the workflow was not successful, show an appropriate error message.\n            if (err instanceof schematics_1.UnsuccessfulWorkflowExecution) {\n                // \"See above\" because we already printed the error.\n                logger.fatal('The Schematic workflow failed. See above.');\n            }\n            else {\n                (0, error_1.assertIsError)(err);\n                logger.fatal(err.message);\n            }\n            return 1;\n        }\n        finally {\n            unsubscribe();\n        }\n        return 0;\n    }\n    getProjectName() {\n        const { workspace, logger } = this.context;\n        if (!workspace) {\n            return undefined;\n        }\n        const projectName = (0, config_1.getProjectByCwd)(workspace);\n        if (projectName) {\n            return projectName;\n        }\n        return undefined;\n    }\n    getResolvePaths(collectionName) {\n        const { workspace, root } = this.context;\n        return workspace\n            ? // Workspace\n                collectionName === exports.DEFAULT_SCHEMATICS_COLLECTION\n                    ? // Favor __dirname for @schematics/angular to use the build-in version\n                        [__dirname, process.cwd(), root]\n                    : [process.cwd(), root, __dirname]\n            : // Global\n                [__dirname, process.cwd()];\n    }\n}\nexports.SchematicsCommandModule = SchematicsCommandModule;\n__decorate([\n    memoize_1.memoize,\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [String]),\n    __metadata(\"design:returntype\", tools_1.NodeWorkflow)\n], SchematicsCommandModule.prototype, \"getOrCreateWorkflowForBuilder\", null);\n__decorate([\n    memoize_1.memoize,\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [String, Object]),\n    __metadata(\"design:returntype\", Promise)\n], SchematicsCommandModule.prototype, \"getOrCreateWorkflowForExecution\", null);\n__decorate([\n    memoize_1.memoize,\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", Promise)\n], SchematicsCommandModule.prototype, \"getSchematicCollections\", null);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}