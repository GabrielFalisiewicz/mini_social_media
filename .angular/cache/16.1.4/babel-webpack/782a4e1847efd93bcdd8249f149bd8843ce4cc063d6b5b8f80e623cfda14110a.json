{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"C:/Users/GabrielFalisiewiczS/OneDrive/Dokumenty/Udemy/backend/kurs1/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withTempFile = void 0;\nconst promises_1 = __importDefault(require(\"fs/promises\"));\nconst os_1 = __importDefault(require(\"os\"));\nconst path_1 = __importDefault(require(\"path\"));\n// Invokes the given handler with the path to a temporary file. The file\n// is deleted after the handler returns.\nconst withTempFile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (handler) {\n    return withTempDir( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (dir) {\n        return handler(path_1.default.join(dir, 'tempfile'));\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  });\n  return function withTempFile(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.withTempFile = withTempFile;\n// Invokes the given handler with a temporary directory. The directory is\n// deleted after the handler returns.\nconst withTempDir = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(function* (handler) {\n    const tmpDir = yield promises_1.default.realpath(os_1.default.tmpdir());\n    const dir = yield promises_1.default.mkdtemp(tmpDir + path_1.default.sep);\n    try {\n      return yield handler(dir);\n    } finally {\n      yield promises_1.default.rm(dir, {\n        force: true,\n        recursive: true,\n        maxRetries: 3\n      });\n    }\n  });\n  return function withTempDir(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["_asyncToGenerator","require","default","__importDefault","mod","__esModule","Object","defineProperty","exports","value","withTempFile","promises_1","os_1","path_1","_ref","handler","withTempDir","_ref2","dir","join","_x2","apply","arguments","_x","_ref3","tmpDir","realpath","tmpdir","mkdtemp","sep","rm","force","recursive","maxRetries","_x3"],"sources":["C:/Users/GabrielFalisiewiczS/OneDrive/Dokumenty/Udemy/backend/kurs1/node_modules/tuf-js/dist/utils/tmpfile.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withTempFile = void 0;\nconst promises_1 = __importDefault(require(\"fs/promises\"));\nconst os_1 = __importDefault(require(\"os\"));\nconst path_1 = __importDefault(require(\"path\"));\n// Invokes the given handler with the path to a temporary file. The file\n// is deleted after the handler returns.\nconst withTempFile = async (handler) => withTempDir(async (dir) => handler(path_1.default.join(dir, 'tempfile')));\nexports.withTempFile = withTempFile;\n// Invokes the given handler with a temporary directory. The directory is\n// deleted after the handler returns.\nconst withTempDir = async (handler) => {\n    const tmpDir = await promises_1.default.realpath(os_1.default.tmpdir());\n    const dir = await promises_1.default.mkdtemp(tmpDir + path_1.default.sep);\n    try {\n        return await handler(dir);\n    }\n    finally {\n        await promises_1.default.rm(dir, { force: true, recursive: true, maxRetries: 3 });\n    }\n};\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,iBAAA,GAAAC,OAAA,gIAAAC,OAAA;AACb,IAAIC,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B,MAAMC,UAAU,GAAGR,eAAe,CAACF,OAAO,CAAC,aAAa,CAAC,CAAC;AAC1D,MAAMW,IAAI,GAAGT,eAAe,CAACF,OAAO,CAAC,IAAI,CAAC,CAAC;AAC3C,MAAMY,MAAM,GAAGV,eAAe,CAACF,OAAO,CAAC,MAAM,CAAC,CAAC;AAC/C;AACA;AACA,MAAMS,YAAY;EAAA,IAAAI,IAAA,GAAAd,iBAAA,CAAG,WAAOe,OAAO;IAAA,OAAKC,WAAW;MAAA,IAAAC,KAAA,GAAAjB,iBAAA,CAAC,WAAOkB,GAAG;QAAA,OAAKH,OAAO,CAACF,MAAM,CAACX,OAAO,CAACiB,IAAI,CAACD,GAAG,EAAE,UAAU,CAAC,CAAC;MAAA;MAAA,iBAAAE,GAAA;QAAA,OAAAH,KAAA,CAAAI,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;EAAA;EAAA,gBAA3GZ,YAAYA,CAAAa,EAAA;IAAA,OAAAT,IAAA,CAAAO,KAAA,OAAAC,SAAA;EAAA;AAAA,GAA+F;AACjHd,OAAO,CAACE,YAAY,GAAGA,YAAY;AACnC;AACA;AACA,MAAMM,WAAW;EAAA,IAAAQ,KAAA,GAAAxB,iBAAA,CAAG,WAAOe,OAAO,EAAK;IACnC,MAAMU,MAAM,SAASd,UAAU,CAACT,OAAO,CAACwB,QAAQ,CAACd,IAAI,CAACV,OAAO,CAACyB,MAAM,CAAC,CAAC,CAAC;IACvE,MAAMT,GAAG,SAASP,UAAU,CAACT,OAAO,CAAC0B,OAAO,CAACH,MAAM,GAAGZ,MAAM,CAACX,OAAO,CAAC2B,GAAG,CAAC;IACzE,IAAI;MACA,aAAad,OAAO,CAACG,GAAG,CAAC;IAC7B,CAAC,SACO;MACJ,MAAMP,UAAU,CAACT,OAAO,CAAC4B,EAAE,CAACZ,GAAG,EAAE;QAAEa,KAAK,EAAE,IAAI;QAAEC,SAAS,EAAE,IAAI;QAAEC,UAAU,EAAE;MAAE,CAAC,CAAC;IACrF;EACJ,CAAC;EAAA,gBATKjB,WAAWA,CAAAkB,GAAA;IAAA,OAAAV,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAShB"},"metadata":{},"sourceType":"script","externalDependencies":[]}